+++
title = "Удаление www из URL"
lastmod = 2023-08-09
tags = ["Nginx", "snippets"]
draft = false
+++

Иногда требуется автоматически перенаправлять запросы с www-доменов на домен без www. В [Nginx]({{< relref "20230515223342-nginx.md" >}}) это можно сделать следующим образом:

```cfg
server {
    server_name ~^(www\.)(?<domain>.+)$;
    return 301 $scheme://$domain$request_uri;
}
```

Важно отметить что этот способ будет хорошо работать только для HTTP запросов. В случае с HTTPS придётся добавлять версию домена с www в сертификат сайта.
